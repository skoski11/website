---
title: "SQL"
output: html_document
---
```{r}
library(Lahman)
library(sqldf)
```
#Level one header
##leavel 2 header
###level 3 header

You can type normally to write paragraphs that will appear in your documents

* Item one in a list
* Item 2
* Item 3
* Item 4

This is how to make a table with multiple columns

column 1 | cloumn 2
---|---
Lions | NFC
Patriots | AFC
Buccaneers | AFC
Eagles | NFC


<img src="gsd.jpg" width="300"/>


Baseball Facts
First Fact, I absolutely hate baseball.

These are examples of ques run that gather different data and also show how we can organize how the information will be displayed, example the 4th one.

```{r}
query<-"SELECT playerID,yearID,teamID,HR FROM Batting
WHERE teamID='PHI' and yearID>=1970 and yearID<=1979 and HR>= 30"
sqldf(query)

query<-"SELECT playerID,yearID,teamID,HR FROM Batting
WHERE teamID='NYA' and HR> 40"
sqldf(query)

query<-"SELECT playerID,yearID,teamID,HR,SO FROM Batting
WHERE HR> 40 and SO<=60"
sqldf(query)

query<-"SELECT playerID,teamID,yearID,HR FROM Batting
WHERE HR>50
ORDER BY HR DESC"
sqldf(query)


# This finds and sorts who has had the fewest strikeouts in a season with atleast 400 at bats
query<-"SELECT teamID, playerID, yearID, SO, AB FROM Batting
WHERE AB>= 400 and SO< 10
ORDER BY SO"
sqldf(query)

query<-"SELECT playerID,sum(HR) FROM Batting
WHERE playerID='ruthba01'
GROUP BY playerID"
sqldf(query)

#Filter before group is where, and filter after group uses having
query<-"SELECT playerID,sum(HR) FROM Batting
GROUP BY playerID
HAVING sum(HR)>= 600
ORDER BY sum(HR) DESC"
sqldf(query)
#sum() avg() max() min() are all useable fucntions
query<-"SELECT playerID,avg(HR) FROM Batting
GROUP BY playerID
HAVING avg(HR)>= 30
ORDER BY avg(HR) DESC"
sqldf(query)
```






